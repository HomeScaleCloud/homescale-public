defaultNamespace: tailscale
name: tailscale-crs
helm:
  releaseName: tailscale-crs
  chart: ./
  values:
    kubeProxy:
      replicas: 1
    ingressProxy:
      replicas: 2

dependsOn:
  - name: tailscale
    acceptedStates:
      - Ready

targetCustomizations:
  - name: env-prod
    clusterGroup: env-prod
    helm:
      values:
        kubeProxy:
          replicas: 2
        ingressProxy:
          replicas: 3
  - name: env-mgmt
    clusterGroup: env-mgmt
    helm:
      values:
        global:
          cluster: mgmt
        kubeProxy:
          replicas: 2
        ingressProxy:
          replicas: 3
